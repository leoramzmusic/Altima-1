<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>
<div th:replace="navegacion-head :: header"></div>
<title>Prendas | Altima</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
</head>

<body class="hold-transition sidebar-mini layout-fixed sidebar-collapse">
	<!-- Site wrapper -->
	<div class="wrapper">
		<!-- Navbar -->
		<div th:insert="navegacion-nav"></div>
		<!-- /.navbar -->
		<!-- Modal -->
		<div th:insert="navegacion-logout"></div>
		<!-- Main Sidebar Container -->
		<div th:insert="navegacion-aside"></div>

		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->
			<section class="content-header">
				<div class="container-fluid">
					<div class="row mb-2">
						<div class="col-sm-6">
						    <h1>Prendas&nbsp;<a th:href="${'/prendas'}"><button class="bt btn-danger btn-circle btn-sm popoverxd" data-container="body" data-toggle="popover" data-placement="right" data-content="Regresar"><i class="fas fa-arrow-left"></i></button></a></h1>
                        </div>
						<div class="col-sm-6">
							<ol class="breadcrumb float-sm-right">
								<li class="breadcrumb-item"><a href="#">Dashboard</a></li>
								<li class="breadcrumb-item active">Prendas</li>
							</ol>
						</div>
					</div>
				</div>
				<!-- /.container-fluid -->
			</section>

			<!-- Main content -->
			<section class="content">
				<div class="container-fluid">
					<div class="row">
						<div class="col-12">
							<!-- Default box -->
							<div class="card">
								<div class="card-header bg-dark">
									<h3 th:if="${accion == 'agregar'}" class="card-title">Agregar prenda</h3>
									<h3 th:if="${accion == 'editar'}" class="card-title">Editar prenda: <text th:text="${prenda.idText}"></text></h3>
									<!--<button id="BotonRecargaListas" class="btn btn-info" onclick="ReloadList()">Reload weee</button> -->
								</div>
								<div class="card-body">
									<div class="row">
										<section class="col-12">
											<ul class="nav nav-tabs flex-nowrap" role="tablist">
												<li role="presentation" class="nav-item"><a
													href="#step1" class="nav-link active" data-toggle="tab"
													aria-controls="step1" role="tab"><i
														class="fas fa-info-circle"></i>&nbsp;Datos generales</a></li>
												<li role="presentation" class="nav-item"><a
													href="#step2" class="nav-link disabled" data-toggle="tab"
													aria-controls="step2" role="tab"><i
														class="fas fa-file-alt"></i>&nbsp;Datos de
														confecci&oacute;n</a></li>
												<li role="presentation" class="nav-item"><a
													href="#step3" class="nav-link disabled" data-toggle="tab"
													aria-controls="step3" role="tab"><i
														class="flaticon-001-wool"></i>&nbsp;Materiales a usar</a></li>
												<li role="presentation" class="nav-item"><a
													href="#complete" class="nav-link disabled"
													data-toggle="tab" aria-controls="complete" role="tab"><i
														class="flaticon-019-pattern-1"></i>&nbsp;Piezas de
														patronaje</a></li>
												<li role="presentation" class="nav-item"><a
													href="#consumo" class="nav-link disabled"
													data-toggle="tab" aria-controls="complete" role="tab"><i class="fas fa-tshirt"></i>
													&nbsp;Consumo por talla</a></li>
											</ul>
											<!-- <form th:action="@{/prendas}" method="post"
												th:object="${disenio}">-->
												<div th:object="${prenda}">
												<input type="hidden" value="guardar" id="accionPag"/>
												<div class="tab-content py-2">
													<div class="tab-pane active" role="tabpanel" id="step1">
														<div class="row">
															<div class="col-sm-4">
																<div class="form-group">
																	<label>Tipo de prenda</label> 
																	<select id="TipoPrenda" class="form-control selectpicker" data-live-search="true" th:disabled="${accion == 'editar'}">
																		<option th:each="familia: ${familias}" th:value="${familia[0]}" 
																		th:text="${familia[1]}" th:selected="${familia[0] == prenda.idFamiliaPrenda}"></option>
																	</select>
																</div>
															</div>
															<div class="col-sm-4">
																<div class="form-group">
																	<label style="font-size: 15px;">Descripci&oacute;n
																		de la prenda</label> <input type="text" class="form-control"
																		placeholder="Descripcion de Prenda" th:field="*{descripcionPrenda}" id="DescripcionPrenda">
																</div>
															</div>
															<div class="col-sm-4">
																<div class="form-group">
																	<label style="font-size: 15px;">Nota especial</label> <input
																		type="text" class="form-control" placeholder="Nota de Prenda"  th:field="*{notaEspecial}" id="NotaEspecial">
																</div>
															</div>
															
															<div class="col-sm-6">
																<div class="form-group">
																	<label>G&eacute;nero de prenda</label> 
																	<select id="GeneroPrenda" class="form-control selectpicker" data-live-search="true">
																		<option th:each="genero: ${generos}" th:value="${genero.idLookup}" 
																		th:text="${genero.nombreLookup}" th:selected="(${genero.idLookup} == ${prenda.idGenero})"></option>
																	</select>
																</div>
															</div>
															
															<div class="col-sm-6">
																<div class="form-group">
																	<label>Dise√±o exclusivo para:</label> 
																	<select class="form-control selectpicker" data-live-search="true">
																		<option th:each="genero: ${generos}" th:value="${genero.idLookup}" 
																		th:text="${genero.nombreLookup}" th:selected="(${genero.idLookup} == ${prenda.idGenero})"></option>
																	</select>
																</div>
															</div>
															
															<div class="col-sm-12">
																<div class="form-group">
																	<label>Detalle de la prenda</label>
																	<textarea class="form-control" rows="3"
																		placeholder="Escribir el detalle de la prenda..." id="DetallePrenda" 
																		th:field="*{detallePrenda}">
																		</textarea>
																</div>
															</div>
														</div>
														
																											
														<div class="row">
															<!-- Form de Imagenes -->
															
															<div class="col-sm-12">
															<form th:action="${accion} == 'agregar' ? @{/imagenes_prendas} : @{/imagenes_prendas_editar}" method="POST" enctype="multipart/form-data">
															<input type="hidden" name="_csrf" id="token"  th:value="${_csrf.token}"/>
															
																																										
															
															
															<!-- Input de nombre, imagen y boton -->
															<label for="mainImage1">Imagenes de  la Prenda</label>	
															<div class="form-group p-3 border p-2 rounded m-3">
															
															<div class="col-sm-12" id="ContenedorBotonAgregarOtro" th:if="${imagenesPrenda.size() <= 6}">
																<div class="col">
																	<center><button th:if="${accion == 'agregar'}" type="button" onclick="AgregarImagen()" class="btn btn-success">Agregar una imagen</button></center>
																	<center><button th:if="${accion == 'editar'}" type="button" onclick="AgregarImagenEditar()" class="btn btn-success">Agregar una imagen</button></center>
																</div>
															</div><br>
															
															<!-- Previsualizaciones de imagenes -->
															<div class="col-sm-12" th:if="${accion == 'agregar'}">
																	<div class="row">
																		<div class="col">
																			<div class="row" id="ContenedorMainImagenes">
																			
																			<div class="col-sm-4" id="Contenedor-1">
																				<div class="card" style="width: 18rem;" id="Contenido-1">  																					
																					<div class="image-upload-1">
	  																					<label for="file-input-1"> 
	  																						<img class="card-img-top" id="img-1" src="/dist/img/preview.png" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																					</label> 
	  																					<input id="file-input-1" name="file-input-1" onchange="PreviewImage(this, 1);" type="file" style="display:none"/>
																					</div> 
																					<div class="card-body"> 
																						<p class="card-text">
																							<input type="text" id="name-1" name="name-1" class="form-control" value="Frente" readonly="readonly">
																						</p> 																							
																						<br>
																					</div> 
																				</div> 																				
																			</div>
																			
																			<div class="col-sm-4" id="Contenedor-2">
																				<div class="card" style="width: 18rem;" id="Contenido-2">  																					
																					<div class="image-upload-2">
	  																					<label for="file-input-2"> 
	  																						<img class="card-img-top" id="img-2" src="/dist/img/preview.png" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																					</label> 
	  																					<input id="file-input-2" name="file-input-2" onchange="PreviewImage(this, 2);" type="file" style="display:none"/>
																					</div> 
																					<div class="card-body"> 
																						<p class="card-text">
																							<input type="text" id="name-2" name="name-2" class="form-control" value="Espalda" readonly="readonly">
																						</p> 																							
																						<br>
																					</div> 
																				</div> 																				
																			</div>
																			
																			<div class="col-sm-4" id="Contenedor-3" style="display: none">
																				<div class="card" style="width: 18rem;" id="Contenido-3">  																					
																					<div class="image-upload-3">
	  																					<label for="file-input-3"> 
	  																						<img class="card-img-top" id="img-3" src="/dist/img/preview.png" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																					</label> 
	  																					<input id="file-input-3" name="file-input-3" onchange="PreviewImage(this, 3);" type="file" style="display:none"/>
																					</div> 
																					<div class="card-body"> 
																						<p class="card-text"><input type="text" id="name-3" name="name-3" class="form-control" placeholder="Nombre de Imagen"></p> 																							
																						<button class="btn btn-danger" onclick="QuitarImagen(3)">Eliminar</button>
																					</div> 
																				</div> 																				
																			</div>
																			
																			<div class="col-sm-4" id="Contenedor-4" style="display: none">
																				<div class="card" style="width: 18rem;" id="Contenido-4">  																					
																					<div class="image-upload-4">
	  																					<label for="file-input-4"> 
	  																						<img class="card-img-top" id="img-4" src="/dist/img/preview.png" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																					</label> 
	  																					<input id="file-input-4" name="file-input-4" onchange="PreviewImage(this, 4);" type="file" style="display:none"/>
																					</div> 
																					<div class="card-body"> 
																						<p class="card-text"><input type="text" id="name-4" name="name-4" class="form-control" placeholder="Nombre de Imagen"></p> 																							
																						<button class="btn btn-danger" onclick="QuitarImagen(4)">Eliminar</button>
																					</div> 
																				</div> 																				
																			</div>
																			
																			<div class="col-sm-4" id="Contenedor-5" style="display: none">
																				<div class="card" style="width: 18rem;" id="Contenido-5">  																					
																					<div class="image-upload-5">
	  																					<label for="file-input-5"> 
	  																						<img class="card-img-top" id="img-5" src="/dist/img/preview.png" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																					</label> 
	  																					<input id="file-input-5" name="file-input-5" onchange="PreviewImage(this, 5);" type="file" style="display:none"/>
																					</div> 
																					<div class="card-body"> 
																						<p class="card-text"><input type="text" id="name-5" name="name-5" class="form-control" placeholder="Nombre de Imagen"></p> 																							
																						<button class="btn btn-danger" onclick="QuitarImagen(5)">Eliminar</button>
																					</div> 
																				</div> 																				
																			</div>
																			
																			<div class="col-sm-4" id="Contenedor-6" style="display: none">
																				<div class="card" style="width: 18rem;" id="Contenido-6">  																					
																					<div class="image-upload-6">
	  																					<label for="file-input-6"> 
	  																						<img class="card-img-top" id="img-6" src="/dist/img/preview.png" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																					</label> 
	  																					<input id="file-input-6" name="file-input-6" onchange="PreviewImage(this, 6);" type="file" style="display:none"/>
																					</div> 
																					<div class="card-body"> 
																						<p class="card-text"><input type="text" id="name-6" name="name-6" class="form-control" placeholder="Nombre de Imagen"></p> 																							
																						<button class="btn btn-danger" onclick="QuitarImagen(6)">Eliminar</button>
																					</div> 
																				</div> 																				
																			</div>
																			
																			
																			</div>
																		</div>
																	</div>
															</div>
															<!-- Previsualizaciones de imagenes -->	
															
															
															<!-- Previsualizaciones de Imagenes al editar -->
															<div class="row" th:if="${accion == 'editar'}" id="ContenedorImagenesEditar">
															<input type="hidden" name="idPrenda" id="idPrenda"  th:value="${prenda.idPrenda}"/>
																<!-- Uno -->
																<div class="col-sm-4" th:each="img: ${imagenesPrenda}" th:id="${'Contenedor-' + img.estatus}" th:style="${img.idPrenda != null || img.estatus == '1' || img.estatus == '2'} ? 'display: block' : 'display: none' ">
																	<div class="card" style="width: 18rem;">  																					
																		<div th:class="${'image-upload-edit-' + img.estatus}">
	  																		<label th:for="${'file-input-edit-' + img.estatus}" th:id="${'contenedor-imagen-' + img.estatus}">
	  																			<img class="card-img-top" th:id="${'img-edit-' + img.estatus}" th:src="@{'/uploads/prendas/' + ${img.rutaPrenda}}" th:onerror="this.src='/dist/img/preview.png'" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																		</label> 
	  																		<input th:id="${'file-input-edit-' + img.estatus}" th:name="${'file-input-edit-' + img.estatus}" th:attr="onchange=|PreviewImageEdit(this, '${img.estatus}')|" type="file" style="display:none"/>
	  																		<input type="hidden" th:id="${'id-input-edit-' + img.estatus}" th:name="${'id-input-edit-' + img.estatus}" th:value="${img.idPrendaImagen}"/>
	  																		<input type="hidden" th:id="${'status-input-edit-' + img.estatus}" th:name="${'status-input-edit-' + img.estatus}" value="Same"/>
																		</div> 
																		<div class="card-body"> 
																			<p class="card-text">
																				<input type="text" th:id="${'name-edit-' + img.estatus}" th:name="${'name-edit-' + img.estatus}" class="form-control" th:value="${img.nombrePrenda}" placeholder="Nombre de Imagen" th:readonly="${img.estatus == '1' || img.estatus == '2'}">
																			</p> 	
																			<div th:if="${img.estatus == '3' || img.estatus == '4' || img.estatus == '5' || img.estatus == '6'}">																						
																			<button class="btn btn-danger" type="button" th:attr="onclick=|QuitarImagenEdit('${img.estatus}')|">Quitar</button>
																			</div>
																		</div> 
																	</div> 																				
																</div>
																<!-- Uno -->
																
																
																
															</div>
															<!-- Previsualizaciones de Imagenes al editar -->
															
																																
															</div>
															<!-- Input de nombre, imagen y boton -->
															
															<!-- Boton de form -->
																<button type="submit" id="FormImagenes" style="border: none"></button>
																
															<!-- Boton de form -->
															</form>
															</div>
															<!-- Form de Imagenes -->															
															

															<div class="form-group col-sm-12">
																<a th:href="${'/prendas'}" class="btn btn-danger">Cancelar</a>
																<button type="button" class="btn btn-primary float-right" onclick="ValidarPrimerPestana()">Siguiente</button>	
																<button type="button" class="btn btn-primary next-step float-right" id="SiguientePrimeraPestana" style="display: none">Siguiente</button><br>
															</div>
															<div class="form-group col-sm-12" id="AlertaPrimerPestana" style="display: none; color: red;">
																<div class="float-right">
																	<label>Debes llenar todos los campos correctamente.</label>
																</div>
															</div>
															<div class="form-group col-sm-12" id="AlertaPrimerPestanaNombresRepetidos" style="display: none; color: red;">
																<div class="float-right">
																	<label>Los nombres de las imagenes no se deben repetir.</label>
																</div>
															</div>
														</div>															
													</div><!-- Cierra lo de step 1 -->
													

													
													
													
													<div class="tab-pane" role="tabpanel" id="step2">
														<div class="row">
															<div class="col-sm-12">
																<div class="form-group">
																	<label>Detalle de la confecci&oacute;n</label><!--  -->
																	<textarea class="form-control" rows="9" id="DetalleConfeccion" th:if="*{ detalleConfeccion }" th:text="*{ detalleConfeccion }">
																	</textarea>
																	<textarea class="form-control" rows="9" id="DetalleConfeccion" th:if="*{ detalleConfeccion == null || detalleConfeccion == ''}">
Instrucci√≥n 1:


Instrucci√≥n 2:


Instrucci√≥n 3:
																	</textarea>
																</div>
															</div>
															<label for="adicionar" style="margin-left: 7px;"> Tipos de Marcadores&nbsp;&nbsp;</label>
                                                            <div class="input-group col-sm-12">
											
                                                                <select class="form-control selectpicker" data-live-search="true" name="marcador_" id="marcador_">
                                                                    
                                                                    <option th:each="marcador:${marcadores}"th:value="${marcador.idLookup}" th:text="${marcador.nombreLookup}"></option>
                                                                </select>
															  <span class="input-group-btn">
															    <button id="adicionar" class="btn btn-primary" type="button" onclick="guardarMarcador()">
                                                                    <i class="fas fa-plus"></i>
                                                                </button>
															  </span>
															</div>
															<br><br>
                                                            <div class="col-sm-12">

                                                                <table class="table table-bordered table-hover">
                                                                    <thead>
                                                                        <tr>
                                                                            <th style="display: none;">Id</th>
                                                                            <th>Lista de Marcadores</th>
                                                                            <th>Eliminar</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody id="tablita">
                                                                        <tr th:each="pm:${prendasmarcadores}">
                                                                            <td style="display: none;" th:text="${pm[0]}"></td>
                                                                            <td th:text="${pm[1]}"></td>
                                                                            <td class="text-center">
                                                                                <button type="button" name="remove" onclick="eliminarMarcador(this)" class="btn btn-danger btn_remove popoverxd">Eliminar</button>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>

                                                            </div>
														</div>
														<div class="row float-right" >
														<ul class="float-right">	
															<li class="list-inline-item">
															<a th:href="${'/prendas'}" class="btn btn-danger mr-auto">Cancelar</a>
																<button type="button" class="btn btn-primary" onclick="ValidarSegundaPestana()">Siguiente</button>
																<button type="button" class="btn btn-primary next-step" style="display: none" id="SiguienteSegundaPestana">Siguiente</button>
															</li>
														</ul>
														</div><br><br><br>
														<div class="row float-right" id="AlertaSegundaPestana" style="display: none; color: red;">
														<ul class="float-right">
															<li class="list-inline-item">
																<div class="float-right">
																	<label>Debes llenar todos los campos correctamente.</label>
																</div>
															</li>
														</ul>
														</div>
													</div>
													<div class="tab-pane" role="tabpanel" id="step3">
														<div class="row">
															<div class="col-sm-10">
																<div class="form-group">
																	<label>Lista de materiales</label>
																	<select placeholder="Elige una prenda" id="ListaDeMateriales" class="form-control selectpicker" data-live-search="true">
																			<option th:each="materiales : ${materiales}" th:value="${materiales[0]}" th:text="${materiales[1]}"></option>
																			
																	</select>
																</div>
															</div>
															<div class="col-sm-2">
																<label>&nbsp;</label>
																<div class="form-group">
																<!-- a√±adir a clas btn-block -->
																	<button class="btn btn-primary" onclick="AgregarElementoListaMateriales()" id="AgregarElementoMaterial">
																		<i class="fas fa-plus fa-sm"></i> Agregar
																	</button>
																</div>
															</div>
															<div class="col-md-12">
																<table class="table table-striped table-bordered">
																	<thead>
																		<tr>
																			<th scope="col">Clave AMP</th>
																			<th scope="col">Nombre</th>
																			<th scope="col">Clasificaci&oacute;n</th>
																			<th scope="col">Tama&ntilde;o</th>
																			<th scope="col">Unidad de Medida</th>
																			<th scope="col">Modelo</th>
																			<th scope="col">Proceso</th>
																			<th scope="col">Cantidad</th>
																			<th scope="col">Eliminar</th>
																		</tr>
																	</thead>
																	<tbody id="CuerpoTablaMateriales">
																		<tr th:each="mat: ${materialesPrenda}" th:id="'RemoverElemento-' + ${mat[10]}">
                                                                            <td th:text="${mat[1]}"></td>
                                                                            <td scope='row' th:text="${mat[2]}"></td>
                                                                            <td th:text="${mat[3]}"></td>
                                                                            <td th:text="${mat[4]}"></td>
                                                                            <td th:text="${mat[5]}"></td>
                                                                            <td th:text="${mat[6]}"></td>
                                                                            <td th:text="${mat[7]}"></td>
                                                                            <td>
                                                                                <input type="number" th:id="'CantidadMaterial-' + ${mat[10]}" class="form-control" th:value="${mat[9]}" th:attr="onclick=|CambiarCantidadMaterial('${mat[10]}')|" />
                                                                            </td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-danger btn_remove popoverxd" th:attr="onclick=|QuitarMaterial('${mat[10]}')|">Eliminar
                                                                                    
                                                                                </button>
                                                                            </td>
                                                                        </tr>
																	</tbody>
																</table>
															</div>
														</div>
														<!-- <ul class="float-right">
															<li class="list-inline-item">
															
																<button type="button" class="btn btn-outline-primary next-step">Siguiente</button>
															</li>
														</ul> -->
													<div class="row float-right" >
														<ul class="float-right">	
															<li class="list-inline-item">
																<a th:href="${'/prendas'}" class="btn btn-danger mr-auto">Cancelar</a>
																<button type="button" class="btn btn-primary" onclick="ValidarTerceraPestana()">Siguiente</button>
																<button type="button" class="btn btn-primary next-step" style="display: none" id="SiguienteTerceraPestana">Siguiente</button>
															</li>
														</ul>
														</div><br><br><br>
														<div class="row float-right" id="AlertaTerceraPestana" style="display: none; color: red;">
														<ul class="float-right">
															<li class="list-inline-item">
																<div class="float-right">
																	<label>Debes agregar al menos un material.</label>
																</div>
															</li>
														</ul>
													</div>
													</div>
													<div class="tab-pane" role="tabpanel" id="complete">
                                                        <div class="row">
                                                            <div class="col-sm-10">
                                                                <div class="form-group">
                                                                    <label>Lista de piezas de patronaje</label>
                                                                    <select id="ListaPatronaje" class="form-control selectpicker" data-live-search="true">
                                                                        <option th:each="patronajes : ${patronajes}" th:value="${patronajes[0]}" th:text="${patronajes[2]}"></option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <label>&nbsp;</label>
                                                                <div class="form-group">
                                                                    <div id="BotonAgregar" style="display: block">
                                                                        <button class="btn btn-primary btn-block" onclick="guardarPatronaje()" id="BotonAgregarPatronaje">
                                                                            <i class="fas fa-plus fa-sm"></i> Agregar
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                <table class="table table-striped table-bordered">
                                                                    <thead>
                                                                        <tr>
                                                                            <th scope="col" style='display: none;'>Id</th>
                                                                            <th scope="col">Nombre</th>
                                                                            <th scope="col" class="text-center">Tela<br>N&uacute;mero de piezas</th>
                                                                            <th scope="col" class="text-center">Tela Combinaci√≥n<br>N&uacute;mero de piezas</th>
                                                                            <th scope="col" class="text-center">Forro<br>N&uacute;mero de piezas</th>
                                                                            <th scope="col" class="text-center">Forro Combinaci√≥n<br>N&uacute;mero de piezas</th>
                                                                            <th scope="col" class="text-center">Entretela<br>N&uacute;mero de piezas</th>
                                                                            <th scope="col">Eliminar</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody id="CuerpoPatronaje">

                                                                        <tr th:each="pat: ${patronajesPrenda}" >
                                                                            <td style='display: none;' th:text="${pat[6]}"></td>
                                                                            <td th:text="${pat[2]}"></td>
                                                                            <td><input type="number" class="form-control" th:value="${pat[3]}" placeholder="10" th:id="${'CantidadTela'+pat[6]}"></td>
                                                                            <td><input type="number" class="form-control" th:value="${pat[7]}" placeholder="10" th:id="${'CantidadTelaSecundaria'+pat[6]}"></td>
                                                                            <td><input type="number" class="form-control" th:value="${pat[4]}" placeholder="10" th:id="${'CantidadForro'+pat[6]}"></td>
                                                                            <td><input type="number" class="form-control" th:value="${pat[8]}" placeholder="10" th:id="${'CantidadForroSecundario'+pat[6]}"></td>
                                                                            <td><input type="number" class="form-control" th:value="${pat[5]}" placeholder="10" th:id="${'CantidadEntretela'+pat[6]}"></td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-danger btn_remove" data-container="body" data-toggle="popover" onclick="eliminarPatronaje(this)">Eliminar
                                                                                </button>
                                                                            </td>
                                                                        </tr>

                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <div class="row float-right">
                                                            <ul class="float-right">
                                                            	<li class="list-inline-item" id="Guardando" style="display: none">
	                                                            	<button class="btn btn-primary" type="button" disabled>Guardando...
	  																	<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
	  																	<span class="sr-only">Loading...</span>
																	</button>
                                                            	</li>
                                                                <li class="list-inline-item" id="ElDeGuardar">
                                                                    <button type="button" class="btn btn-primary" onclick="ValidarCuartaPestana()">Guardar</button>
                                                                    <button type="button" class="btn btn-primary" style="display: none" id="SiguienteCuartaPestana" onclick="Guardar()">Guardar</button>
                                                                </li>
                                                            </ul>
                                                        </div>
														<br><br><br>
														<div class="row float-right" id="AlertaCuartaPestana" style="display: none; color: red;">
														<ul class="float-right">
															<li class="list-inline-item">
																<div class="float-right">
																	<label>Debes agregar al menos un elemento.</label>
																</div>
															</li>
														</ul>
													</div>
													<div class="row float-right" id=AlertaCantidadesPatronaje style="display: none; color: red !important">
														<ul class="float-right">
															<li class="list-inline-item">
																<div class="float-right">
																	<label>Debes agregar las cantidades.</label>
																</div>
															</li>
														</ul>
													</div>
													</div>
													<div class="tab-pane" role="tabpanel" id="consumo">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label>Lista de tallas</label>
                                                                    <select placeholder="Elige una prenda" id="ListaPatronaje">
                                                                        <option>XL</option>
                                                                        <option>L</option>
                                                                        <option>M</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-3">
                                                                <label>&nbsp;</label>
                                                                <div class="form-group">
                                                                    <div id="BotonAgregar">
                                                                        <button class="btn btn-primary btn-block">
                                                                            <i class="fas fa-plus fa-sm"></i> Agregar
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                <table class="table table-striped table-bordered">
                                                                    <thead>
                                                                        <tr>
                                                                            <th scope="col">Nombre</th>
                                                                            <th scope="col">Cantidad de tela</th>
                                                                            <th scope="col">Cantidad de forro</th>
                                                                            <th scope="col">Cantidad de entretela</th>
                                                                            <th scope="col">Largo</th>
                                                                            <th scope="col">Quitar</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr>
                                                                            <td>XL</td>
                                                                            <td><input type="number" class="form-control" placeholder="10"></td>
                                                                            <td><input type="number" class="form-control" placeholder="10"></td>
                                                                            <td><input type="number" class="form-control" placeholder="10"></td>
                                                                            <td><input type="number" class="form-control" placeholder="10"></td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-danger">Quitar
                                                                                </button>
                                                                            </td>
                                                                        </tr>

                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <div class="row float-right">
                                                            <ul class="float-right">
                                                                <li class="list-inline-item">
                                                                    <button type="button" class="btn btn-primary">Guardar</button>
                                                                    <button type="button" class="btn btn-primary next-step">Guardar</button>
                                                                </li>
                                                            </ul>
                                                        </div>
														<br><br><br>
														<div class="row float-right" id="AlertaCuartaPestana" style="display: none; color: red;">
														<ul class="float-right">
															<li class="list-inline-item">
																<div class="float-right">
																	<label>Debes agregar al menos un elemento.</label>
																</div>
															</li>
														</ul>
													</div>
													<div class="row float-right" id=AlertaCantidadesPatronaje style="display: none; color: red !important">
														<ul class="float-right">
															<li class="list-inline-item">
																<div class="float-right">
																	<label>Debes agregar las cantidades.</label>
																</div>
															</li>
														</ul>
													</div>
													</div>
													<div class="clearfix"></div>
												</div>
											<!-- /form-->
										</section>
									</div>
								</div>
								<!-- /.card-body -->
							</div>
							<!-- /.card -->
						</div>
					</div>
				</div>
			</section>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->

		<div th:insert="navegacion-footer"></div>
	</div>
	<!-- ./wrapper -->


	<div th:replace="navegacion-scripts"></div>
	<script src="/dist/js/UploadImage.js"></script>
	<script src="/dist/js/custom.js"></script>
	<script src="/dist/js/bootstrap-select.min.js"></script>
	<script th:src="@{/dist/js/sweetalert.js}"></script>
	<script src="/dist/js/AgregarPrenda.js"></script>
	<script src="/dist/js/AgregarPrendaAsignar.js"></script>
	<script src="/dist/js/AgregarPrendaObjetos.js"></script>
	<script>
	$(document).ready(function() {
		   $('.selectpicker').selectpicker({
			   style: 'border border-bootstrap'
		   });
		});
	</script>
	<style>
	.before-title-1, .before-title-2, .title-text {
  font-family: monospace;
  font-size: 20px;
}

.before-title-1 {
  position: absolute;
  top: 7px;
  left: 8px;
  color: #dddddd;
  font-size: 20px;
  z-index: 1 ; 
}
.before-title-2 {
  position: absolute;
  top: 130px;
  left: 8px;
  color: #dddddd;
  font-size: 20px;
  z-index: 1 ; 
}
#holder {
    position: relative; 
    overflow: hidden;
}
.title-text {
  text-indent: 135px; /* change this value */
  font-size: 20px;
  line-height: 40px;
  letter-spacing: 2px;
  width: 100%;
  display: block;
  overflow: auto;
  z-index : 99999 ; 
}
	</style>
<script th:inline="javascript">
function h(e) {
    var height =  e.scrollTop; 
    $("#testscrol-1").html(e.scrollTop) ; 
    $("#testscrol-2").html(e.scrollTop) ; 
    $(".before-title").css({'top' : 9 - height });
    
}
$('textarea').each(function () {
  h(this);
}).on('scroll' , function(){
    h(this) ; 
}); 
function help(){
alert($('#contenido').val());
}

		/*<![CDATA[*/
		var message = /*[[${prenda}]]*/ 'default';
		var familias = /*[[${familias}]]*/ 'default';
		var accion = /*[[${accion}]]*/ 'default';
		var imagenes = /*[[${imagenesPrenda}]]*/ 'default';
		var generos = /*[[${generos}]]*/ 'default';
		var clientes = /*[[${clientes}]]*/ 'default';
		/*]]>*/
		
		//Contador que dice cuantas imagenes existen
		var contadorImagenes = 0;
		console.log(familias);
		
		//Variable que auxilia cuando se elimina una imagen, se guarde el id que tenia
		var idAux = 0;
		
		if(accion == "editar")
		{
			var prenda = /*[[${prenda}]]*/ 'default';
			var prendasmarcadores = /*[[${prendasmarcadores}]]*/ 'default';
			var materiales = /*[[${materialesPrenda}]]*/ 'default';
			var patronajesPrenda = /*[[${patronajesPrenda}]]*/ 'default';
			var imagenes = /*[[${imagenesPrenda}]]*/ 'default';
			
			objeto_prenda = prenda;
			
			for (i = 0; i < materiales.length; i++) {
                var temp = {
                    identidad: materiales[i][10],
                    id: materiales[i][0],
                    NoMaterial: materiales[i][1],
                    Nombre: materiales[i][2],
                    Clasificacion: materiales[i][3],
                    Tamanio: materiales[i][4] + ' ' + materiales[i][5],
                    Modelo: materiales[i][7],
                    Proceso: materiales[i][8],
                    cantidad: materiales[i][9]
                };
                objeto_materiales.push(temp);
            }
			

			var temporalParaMarcadores = null;
			for(j = 0; j < prendasmarcadores.length; j++)
			{
				temporalParaMarcadores = "," + prendasmarcadores[j][0];
			}
			
			
			prendasmarcadores = temporalParaMarcadores.substring(1);
			
			//Se agrega el modelo en el cabezero para dar seguimiento
			$('#accionTitulo').remove();
			$('#accionTituloContenedor').append("<div id='accionTitulo'><h3 class='card-title'>Editar Prenda: " + prenda.idText + "</h3></div>");
		}
		
		//Funcion que cambia el nombre de las imagenes respecto a la familia de prenda elegida
		$( "#TipoPrenda" ).change(function() {
			for(var i = 0; i < familias.length; i++){
				if(familias[i][0] == $('#TipoPrenda').val()){		
					if(familias[i][3] == "superior"){
						$('#name-1').val("Delantero");
						$('#name-edit-1').val("Delantero");
						$('#name-2').val("Espalda");
						$('#name-edit-2').val("Espalda");	
					}else{
						$('#name-1').val("Frente");
						$('#name-edit-1').val("Frente");
						$('#name-2').val("Trasero");
						$('#name-edit-2').val("Trasero");
					}
					
				}
			}
		});
	</script>
	<script src="/dist/js/FormSteps.js"></script>
	<script>
		function changeClassById() {
			document.getElementById("iDiseno").className = "nav-icon flaticon-005-dress";
			document.getElementById("menuDiseno").className = "nav-item has-treeview menu-open";
			document.getElementById("navDiseno").className = "nav-link active";
			document.getElementById("navDiseno3").className = "nav-link active";
		}
		window.onload = changeClassById();
	</script>
	<script>
    function ordenarSelect(id_componente)
    {
      var selectToSort = jQuery('#' + id_componente);
      var optionActual = selectToSort.val();
      selectToSort.html(selectToSort.children('option').sort(function (a, b) {
        return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
      })).val(optionActual);
    }
    $(document).ready(function () {
      ordenarSelect('ListaDeMateriales');
    });
  </script>
  <script>
    function ordenarSelect(id_componente)
    {
      var selectToSort = jQuery('#' + id_componente);
      var optionActual = selectToSort.val();
      selectToSort.html(selectToSort.children('option').sort(function (a, b) {
        return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
      })).val(optionActual);
    }
    $(document).ready(function () {
      ordenarSelect('TipoPrenda');
    });
  </script>
  <script>
    function ordenarSelect(id_componente)
    {
      var selectToSort = jQuery('#' + id_componente);
      var optionActual = selectToSort.val();
      selectToSort.html(selectToSort.children('option').sort(function (a, b) {
        return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
      })).val(optionActual);
    }
    $(document).ready(function () {
      ordenarSelect('GeneroPrenda');
    });
  </script>
  <script>
    function ordenarSelect(id_componente)
    {
      var selectToSort = jQuery('#' + id_componente);
      var optionActual = selectToSort.val();
      selectToSort.html(selectToSort.children('option').sort(function (a, b) {
        return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
      })).val(optionActual);
    }
    $(document).ready(function () {
      ordenarSelect('ClientePrenda');
    });
  </script>
  <script>
    function ordenarSelect(id_componente)
    {
      var selectToSort = jQuery('#' + id_componente);
      var optionActual = selectToSort.val();
      selectToSort.html(selectToSort.children('option').sort(function (a, b) {
        return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
      })).val(optionActual);
    }
    $(document).ready(function () {
      ordenarSelect('ListaPatronaje');
    });
  </script>
  <script>
    function ordenarSelect(id_componente)
    {
      var selectToSort = jQuery('#' + id_componente);
      var optionActual = selectToSort.val();
      selectToSort.html(selectToSort.children('option').sort(function (a, b) {
        return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
      })).val(optionActual);
    }
    $(document).ready(function () {
      ordenarSelect('marcador_');
    });
  </script>
</body>

</html>
